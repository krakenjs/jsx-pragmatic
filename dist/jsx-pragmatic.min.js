!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("pragmatic",[],n):"object"==typeof exports?exports.pragmatic=n():e.pragmatic=n()}("undefined"!=typeof self?self:this,(function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return{}.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}([function(e,n,r){"use strict";r.r(n),r.d(n,"ElementNode",(function(){return i})),r.d(n,"FragmentNode",(function(){return u})),r.d(n,"TextNode",(function(){return p})),r.d(n,"ComponentNode",(function(){return c})),r.d(n,"node",(function(){return d})),r.d(n,"Fragment",(function(){return l})),r.d(n,"text",(function(){return s})),r.d(n,"dom",(function(){return v})),r.d(n,"react",(function(){return g})),r.d(n,"html",(function(){return w})),r.d(n,"preact",(function(){return M})),r.d(n,"regex",(function(){return b})),r.d(n,"NODE_TYPE",(function(){return t})),r.d(n,"Style",(function(){return N})),r.d(n,"Regex",(function(){return L})),r.d(n,"RegexText",(function(){return R})),r.d(n,"RegexWord",(function(){return j})),r.d(n,"RegexCharacters",(function(){return P})),r.d(n,"RegexGroup",(function(){return A})),r.d(n,"RegexUnion",(function(){return H}));var t={ELEMENT:"element",TEXT:"text",COMPONENT:"component",FRAGMENT:"fragment"};function o(e,n){for(var r=[],t=0;t<e.length;t++){var o=e[t].render(n);if(o)if(Array.isArray(o))for(var i=0;i<o.length;i++){var u=o[i];u&&r.push(u)}else r.push(o)}return r}var i=function(){function e(e,n,r){this.type=t.ELEMENT,this.name=void 0,this.props=void 0,this.children=void 0,this.onRender=void 0,this.name=e,this.props=n||{},this.children=r;var o=this.props.onRender;"function"==typeof o&&(this.onRender=o,delete n.onRender)}var n=e.prototype;return n.render=function(e){var n=e(this);return this.onRender&&this.onRender(n),n},n.renderChildren=function(e){return o(this.children,e)},e}(),u=function(){function e(e){this.type=t.FRAGMENT,this.children=void 0,this.children=e}return e.prototype.render=function(e){return o(this.children,e)},e}(),p=function(){function e(e){this.type=t.TEXT,this.text=void 0,this.text=e}return e.prototype.render=function(e){return e(this)},e}(),c=function(){function e(e,n,r){this.type=t.COMPONENT,this.component=void 0,this.props=void 0,this.children=void 0,this.component=e,this.props=n||{},this.children=r,this.props.children=r}var n=e.prototype;return n.renderComponent=function(e){var n=function(e){var n=a(Array.isArray(e)?e:[e]);return 1===n.length?n[0]:n.length>1?new u(n):void 0}(this.component(this.props,this.children));if(n)return n.render(e)},n.render=function(e){return e(this)},n.renderChildren=function(e){return o(this.children,e)},e}();function a(e){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(o)if("string"==typeof o||"number"==typeof o)n.push(new p(o.toString()));else{if("boolean"==typeof o)continue;if(Array.isArray(o))for(var i=0,u=a(o);i<u.length;i++)n.push(u[i]);else{if(!o||o.type!==t.ELEMENT&&o.type!==t.TEXT&&o.type!==t.COMPONENT)throw new TypeError("Unrecognized node type: "+typeof o);n.push(o)}}}return n}var f,d=function(e,n){for(var r=arguments.length,t=new Array(r>2?r-2:0),o=2;o<r;o++)t[o-2]=arguments[o];if(t=a(t),"string"==typeof e)return new i(e,n,t);if("function"==typeof e)return new c(e,n,t);throw new TypeError("Expected jsx element to be a string or a function")},l=function(e,n){return n};function s(){return function e(n){if(n.type===t.COMPONENT)return[].concat(n.renderComponent(e)).join("");if(n.type===t.ELEMENT)throw new Error("Text renderer does not support basic elements");if(n.type===t.TEXT)return n.text;throw new TypeError("Unhandleable node: "+n.type)}}function h(e){return null!=e}var y=((f={}).iframe=function(e,n){var r=n.children[0];if(1!==n.children.length||!r||r.type!==t.ELEMENT||"html"!==r.name)throw new Error("Expected only single html element node as child of iframe element");e.addEventListener("load",(function(){var n=e.contentWindow;if(!n)throw new Error("Expected frame to have contentWindow");for(var t=n.document,o=t.documentElement;o.children&&o.children.length;)o.removeChild(o.children[0]);for(var i=r.render(v({doc:t}));i.children.length;)o.appendChild(i.children[0])}))},f.script=function(e,n){var r=n.children[0];if(1!==n.children.length||!r||r.type!==t.TEXT)throw new Error("Expected only single text node as child of script element");e.text=r.text},f.default=function(e,n,r){for(var t=0,o=n.renderChildren(r);t<o.length;t++)e.appendChild(o[t])},f);function v(e){void 0===e&&(e={});var n=e.doc,r=void 0===n?document:n;return function e(n){if(n.type===t.COMPONENT)return n.renderComponent(e);if(n.type===t.TEXT)return function(e,n){return e.createTextNode(n.text)}(r,n);if(n.type===t.ELEMENT){var o=function(e,n){return n.props.el?n.props.el:e.createElement(n.name)}(r,n);return function(e,n){for(var r=n.props,t=0,o=Object.keys(r);t<o.length;t++){var i=o[t],u=r[i];null!=u&&"el"!==i&&"innerHTML"!==i&&(i.match(/^on[A-Z][a-z]/)&&"function"==typeof u?e.addEventListener(i.slice(2).toLowerCase(),u):"string"==typeof u||"number"==typeof u?e.setAttribute(i,u.toString()):"boolean"==typeof u&&!0===u&&e.setAttribute(i,""))}"iframe"!==e.tagName.toLowerCase()||r.id||e.setAttribute("id","jsx-iframe-"+"xxxxxxxxxx".replace(/./g,(function(){return"0123456789abcdef".charAt(Math.floor(Math.random()*"0123456789abcdef".length))})))}(o,n),function(e,n,r,t){if(n.props.hasOwnProperty("innerHTML")){if(n.children.length)throw new Error("Expected no children to be passed when innerHTML prop is set");var o=n.props.innerHTML;if("string"!=typeof o)throw new TypeError("innerHTML prop must be string");"script"===n.name?e.text=o:(e.innerHTML=o,function(e,n){void 0===n&&(n=window.document);for(var r=0,t=e.querySelectorAll("script");r<t.length;r++){var o=t[r],i=o.parentNode;if(i){var u=n.createElement("script");u.text=o.textContent,i.replaceChild(u,o)}}}(e,r))}else(y[n.name]||y.default)(e,n,t)}(o,n,r,e),o}throw new TypeError("Unhandleable node")}}function E(){return(E=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function m(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n.indexOf(r=i[t])>=0||(o[r]=e[r]);return o}function g(e){var n=(void 0===e?{}:e).React;if(!n)throw new Error("Must pass React library to react renderer");return function e(r){if(r.type===t.COMPONENT)return n.createElement.apply(n,[function(){return r.renderComponent(e)||null},r.props].concat(r.renderChildren(e)));if(r.type===t.ELEMENT)return n.createElement.apply(n,[r.name,(o=r.props,i=o.innerHTML,E({dangerouslySetInnerHTML:i?{__html:i}:null,className:o.class},m(o,["innerHTML","class"])))].concat(r.renderChildren(e)));var o,i;if(r.type===t.TEXT)return r.text;throw new TypeError("Unhandleable node")}}var T={br:!0};function x(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#x2F;")}function w(){return function e(n){if(n.type===t.COMPONENT)return[].concat(n.renderComponent(e)).join("");if(n.type===t.ELEMENT){var r=(i=n.props,(u=Object.keys(i).filter((function(e){var n=i[e];return"innerHTML"!==e&&("string"==typeof n||"number"==typeof n||!0===n)}))).length?" "+u.map((function(e){var n=i[e];if(!0===n)return""+x(e);if("string"!=typeof n&&"number"!=typeof n)throw new TypeError("Unexpected prop type: "+typeof n);return""===n?x(e):x(e)+'="'+x(n.toString())+'"'})).join(" "):"");if(T[n.name])return"<"+n.name+r+" />";var o="string"==typeof n.props.innerHTML?n.props.innerHTML:n.renderChildren(e).join("");return"<"+n.name+r+">"+o+"</"+n.name+">"}var i,u;if(n.type===t.TEXT)return x(n.text);throw new TypeError("Unhandleable node: "+n.type)}}function M(e){var n=(void 0===e?{}:e).Preact;if(!n)throw new Error("Must pass Preact library to react renderer");return function e(r){if(r.type===t.COMPONENT)return n.h.apply(n,[function(){return r.renderComponent(e)||null},r.props].concat(r.renderChildren(e)));if(r.type===t.ELEMENT)return n.h.apply(n,[r.name,(o=r.props,i=o.innerHTML,E({dangerouslySetInnerHTML:i?{__html:i}:null},m(o,["innerHTML"])))].concat(r.renderChildren(e)));var o,i;if(r.type===t.TEXT)return r.text;throw new TypeError("Unhandleable node")}}function b(){var e=s();return function(n){return new RegExp(e(n))}}function N(e){var n=e.css,r=e.nonce,t=e.children;return d(l,null,d("style",{innerHTML:"string"==typeof n?n:n._getCss(),nonce:r}),t)}b.node=function(e,n){for(var r=arguments.length,t=new Array(r>2?r-2:0),o=2;o<r;o++)t[o-2]=arguments[o];var i=d.apply(void 0,[e,n].concat(t));return e.renderer?i.render(e.renderer()):i};var C=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")},O=function(e,n){return(n=function(e,n){if(!n)throw new Error("Must pass children to "+e);return n}(e,n)).map((function(e){return e.type===t.TEXT?new p(C(e.text)):e}))};function L(e,n){var r=e.exact,t=void 0===r||r;return n=O("RegexGroup",n),t?["^"].concat(n,["$"]):n}function R(e,n){return O("RegexText",n)}function j(e,n){return function(e,n){if(n&&n.length)throw new Error("Must not pass children to RegexWord")}(0,n),"\\w+"}function P(e,n){return["["].concat(O("RegexText",n),["]"])}function A(e,n){var r=e.repeat,t=e.repeatMin,o=e.repeatMax,i=e.name,u=e.optional,c=void 0!==u&&u,a=e.capture,f=void 0===a||a,d=e.union,l=void 0!==d&&d;if(n=O("RegexGroup",n),h(r)&&(h(t)||h(o)))throw new Error("repeat can not be used with repeatMin or repeatMax");if(i&&!f)throw new Error("Named groups must be captured");if(l){for(var s=[],y=0,v=n;y<v.length;y++)s.push(v[y]),s.push(new p("|"));s.pop(),n=s}var E=[];return E.push(f?"(":"(?:"),i&&E.push("?<"+C(i)+">"),E.push.apply(E,n),E.push(")"),h(r)&&("number"==typeof r?E.push("{"+r+"}"):!0===r&&E.push("+")),(h(t)||h(o))&&E.push("{"+(t||"")+","+(o||"")+"}"),c&&E.push("?"),E}function H(e,n){for(var r=[],t=0,o=n=O("RegexGroup",n);t<o.length;t++)r.push(o[t]),r.push("|");return r.pop(),r}L.renderer=b}])}));
//# sourceMappingURL=jsx-pragmatic.min.js.map