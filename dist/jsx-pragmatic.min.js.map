{"version":3,"sources":["webpack://pragmatic/webpack/universalModuleDefinition","webpack://pragmatic/webpack/bootstrap","webpack://pragmatic/./src/constants.js","webpack://pragmatic/./src/node.js","webpack://pragmatic/./src/renderers/text.js","webpack://pragmatic/./src/util.js","webpack://pragmatic/./src/renderers/dom.js","webpack://pragmatic/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://pragmatic/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://pragmatic/./src/renderers/react.js","webpack://pragmatic/./src/renderers/html.js","webpack://pragmatic/./src/renderers/preact.js","webpack://pragmatic/./src/renderers/regex.js","webpack://pragmatic/./src/component/style.jsx","webpack://pragmatic/./src/component/regex.jsx"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","hasOwnProperty","p","s","NODE_TYPE","ELEMENT","TEXT","COMPONENT","FRAGMENT","renderChildren","children","renderer","result","_i2","length","renderedChild","render","Array","isArray","_i4","subchild","push","ElementNode","props","type","onRender","_proto","prototype","el","FragmentNode","TextNode","text","ComponentNode","component","_proto4","renderComponent","child","normalizeChildren","normalizeChild","_i6","toString","_i8","_normalizeChildren2","TypeError","node","element","_len","arguments","_key","Fragment","textRenderer","concat","join","Error","isDefined","val","ELEMENT_DEFAULT_XML_NAMESPACE","_ELEMENT_DEFAULT_XML_","ATTRIBUTE_DEFAULT_XML_NAMESPACE","_ATTRIBUTE_DEFAULT_XM","createTextElement","doc","createTextNode","addProps","_Object$keys2","keys","prop","match","addEventListener","slice","toLowerCase","xmlNamespace","setAttributeNS","setAttribute","tagName","id","replace","charAt","Math","floor","random","ADD_CHILDREN","_ADD_CHILDREN","firstChild","win","contentWindow","document","docElement","documentElement","removeChild","dom","appendChild","_node$renderChildren2","addChildren","html","ELEMENT_PROP","innerHTML","window","_el$querySelectorAll2","querySelectorAll","script","parentNode","newScript","createElement","textContent","replaceChild","fixScripts","opts","_opts$doc","xmlNamespaceDomRenderer","childNode","createElementNS","createElementWithXMLNamespace","domRenderer","_extends","assign","target","source","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","react","_temp","React","reactRenderer","dangerouslySetInnerHTML","__html","className","class","_excluded","SELF_CLOSING_TAGS","br","htmlEncode","htmlRenderer","renderedProps","filter","map","renderedChildren","preact","Preact","h","regex","regexRenderer","nodeInstance","RegExp","Style","_ref","css","nonce","_getCss","escapeRegex","validateAndEscapeChildren","validateChildren","Regex","_ref$exact","exact","RegexText","RegexWord","validateNoChildren","RegexCharacters","RegexGroup","_ref2","repeat","repeatMin","repeatMax","_ref2$optional","optional","_ref2$capture","capture","_ref2$union","union","_children2","pop","RegexUnion","_children4"],"mappings":"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","file":"jsx-pragmatic.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pragmatic\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pragmatic\"] = factory();\n\telse\n\t\troot[\"pragmatic\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/* @flow */\n\nexport const NODE_TYPE = {\n  ELEMENT: (\"element\": \"element\"),\n  TEXT: (\"text\": \"text\"),\n  COMPONENT: (\"component\": \"component\"),\n  FRAGMENT: (\"fragment\": \"fragment\"),\n};\n","/* @flow */\n/* eslint no-use-before-define: off, no-undef: off*/\n// Need to update to babel-eslint that is aware of flow generics\n\nimport { NODE_TYPE } from \"./constants\";\n\nexport type NodePropsType = {\n  [string]: any, // eslint-disable-line flowtype/no-weak-types\n};\n\nexport type EmptyProps = {||};\n\nexport type NodeRenderer<N, O> = (N) => O;\nexport type NodeRendererFactory<L, N, O> = (L) => NodeRenderer<N, O>;\n\ntype Primitive = string | boolean | number;\ntype NullablePrimitive = Primitive | null | void;\n\nexport type NodeType = ElementNode | TextNode | FragmentNode | ComponentNode<*>;\nexport type ChildNodeType = ElementNode | TextNode | ComponentNode<*>;\nexport type ChildType = ChildNodeType | Primitive | $ReadOnlyArray<ChildType>;\nexport type ChildrenType = $ReadOnlyArray<ChildNodeType>;\nexport type NullableChildType =\n  | $ReadOnlyArray<ChildType>\n  | ChildNodeType\n  | NullablePrimitive;\nexport type NullableChildrenType = $ReadOnlyArray<\n  NullableChildrenType | ChildNodeType | NullablePrimitive\n>;\n\nexport type ComponentFunctionType<P> = (P, ChildrenType) => NullableChildType;\n\nexport type CreateElementNode = <P>(\n  string,\n  P,\n  ...NullableChildrenType\n) => ElementNode;\nexport type CreateComponentNode = <P>(\n  ComponentFunctionType<P>,\n  P,\n  ...NullableChildrenType\n) => ComponentNode<*>;\nexport type CreateNullComponentNode = <P>(\n  ComponentFunctionType<P>,\n  null,\n  ...NullableChildrenType\n) => ComponentNode<*>;\n\nexport type CreateNode = CreateNullComponentNode &\n  CreateComponentNode &\n  CreateElementNode;\n\nfunction renderChildren<T>(\n  children: $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>,\n  renderer: NodeRenderer<*, *>\n): $ReadOnlyArray<T> {\n  const result = [];\n\n  for (const child of children) {\n    const renderedChild = child.render(renderer);\n\n    if (!renderedChild) {\n      continue;\n    } else if (Array.isArray(renderedChild)) {\n      for (const subchild of renderedChild) {\n        if (subchild) {\n          result.push(subchild);\n        }\n      }\n    } else {\n      result.push(renderedChild);\n    }\n  }\n\n  return result;\n}\n\nexport class ElementNode {\n  type: typeof NODE_TYPE.ELEMENT = NODE_TYPE.ELEMENT;\n\n  name: string;\n  props: NodePropsType;\n  children: $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>;\n  onRender: ?<T>(T) => void;\n\n  constructor(\n    name: string,\n    props: NodePropsType,\n    children: $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>\n  ) {\n    this.name = name;\n    this.props = props || {};\n    this.children = children;\n\n    const onRender = this.props.onRender;\n    if (typeof onRender === \"function\") {\n      this.onRender = onRender;\n      delete props.onRender;\n    }\n  }\n\n  render<T>(renderer: NodeRenderer<*, *>): T {\n    const el = renderer(this);\n    if (this.onRender) {\n      this.onRender(el);\n    }\n    return el;\n  }\n\n  renderChildren<T>(renderer: NodeRenderer<*, *>): $ReadOnlyArray<T> {\n    return renderChildren(this.children, renderer);\n  }\n}\n\nexport class FragmentNode {\n  type: typeof NODE_TYPE.FRAGMENT = NODE_TYPE.FRAGMENT;\n\n  children: $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>;\n\n  constructor(\n    children: $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>\n  ) {\n    this.children = children;\n  }\n\n  render<T>(renderer: NodeRenderer<*, *>): $ReadOnlyArray<T> {\n    return renderChildren(this.children, renderer);\n  }\n}\n\nexport class TextNode {\n  type: typeof NODE_TYPE.TEXT = NODE_TYPE.TEXT;\n\n  text: string;\n\n  constructor(text: string) {\n    this.text = text;\n  }\n\n  render<T>(renderer: NodeRenderer<*, *>): T {\n    return renderer(this);\n  }\n}\n\n// eslint-disable-next-line no-unused-vars\nexport class ComponentNode<P = null> {\n  type: typeof NODE_TYPE.COMPONENT = NODE_TYPE.COMPONENT;\n\n  component: ComponentFunctionType<NodePropsType>;\n  props: NodePropsType;\n  children: $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>;\n\n  constructor(\n    component: ComponentFunctionType<NodePropsType>,\n    props: NodePropsType,\n    children: $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>\n  ) {\n    this.component = component;\n    this.props = props || {};\n    this.children = children;\n\n    this.props.children = children;\n  }\n\n  renderComponent(renderer: NodeRenderer<*, *>): * {\n    const child = normalizeChild(this.component(this.props, this.children));\n    if (child) {\n      return child.render(renderer);\n    }\n  }\n\n  render<T>(renderer: NodeRenderer<*, *>): T {\n    return renderer(this);\n  }\n\n  renderChildren<T>(renderer: NodeRenderer<*, *>): $ReadOnlyArray<T> {\n    return renderChildren(this.children, renderer);\n  }\n}\n\nfunction normalizeChildren(\n  children: NullableChildrenType\n): $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>> {\n  const result = [];\n\n  for (const child of children) {\n    if (!child) {\n      continue;\n    } else if (typeof child === \"string\" || typeof child === \"number\") {\n      result.push(new TextNode(child.toString()));\n    } else if (typeof child === \"boolean\") {\n      continue;\n    } else if (Array.isArray(child)) {\n      for (const subchild of normalizeChildren(child)) {\n        result.push(subchild);\n      }\n    } else if (\n      child &&\n      (child.type === NODE_TYPE.ELEMENT ||\n        child.type === NODE_TYPE.TEXT ||\n        child.type === NODE_TYPE.COMPONENT)\n    ) {\n      result.push(child);\n    } else {\n      throw new TypeError(`Unrecognized node type: ${typeof child}`);\n    }\n  }\n\n  return result;\n}\n\nfunction normalizeChild(\n  child\n): ElementNode | TextNode | ComponentNode<*> | FragmentNode | void {\n  const children = normalizeChildren(Array.isArray(child) ? child : [child]);\n\n  if (children.length === 1) {\n    return children[0];\n  } else if (children.length > 1) {\n    return new FragmentNode(children);\n  }\n}\n\nexport const node: CreateNode = <P>(element, props: P, ...children) => {\n  children = normalizeChildren(children);\n\n  if (typeof element === \"string\") {\n    // $FlowFixMe\n    return new ElementNode(element, props, children);\n  }\n\n  if (typeof element === \"function\") {\n    // $FlowFixMe\n    return new ComponentNode<*>(element, props, children);\n  }\n\n  throw new TypeError(`Expected jsx element to be a string or a function`);\n};\n\nexport const Fragment: ComponentFunctionType<null> = (props, children) => {\n  return children;\n};\n","/* @flow */\n/* eslint unicorn/prefer-spread: off */\n\nimport {\n  ComponentNode,\n  TextNode,\n  ElementNode,\n  type NodeRenderer,\n} from \"../node\";\nimport { NODE_TYPE } from \"../constants\";\n\ntype TextRenderer = NodeRenderer<\n  ElementNode | TextNode | ComponentNode<*>,\n  string\n>;\n\nexport function text(): TextRenderer {\n  const textRenderer = (node) => {\n    if (node.type === NODE_TYPE.COMPONENT) {\n      return [].concat(node.renderComponent(textRenderer)).join(\"\");\n    }\n\n    if (node.type === NODE_TYPE.ELEMENT) {\n      throw new Error(`Text renderer does not support basic elements`);\n    }\n\n    if (node.type === NODE_TYPE.TEXT) {\n      return node.text;\n    }\n\n    throw new TypeError(`Unhandleable node: ${node.type}`);\n  };\n\n  return textRenderer;\n}\n","/* @flow */\n\nconst ALPHA_CHARS = \"0123456789abcdef\";\n\nexport function uniqueID(): string {\n  return \"xxxxxxxxxx\".replace(/./g, () =>\n    ALPHA_CHARS.charAt(Math.floor(Math.random() * ALPHA_CHARS.length))\n  );\n}\n\n// eslint-disable-next-line flowtype/no-weak-types\nexport function isDefined(val: any): boolean %checks {\n  return val !== null && typeof val !== \"undefined\";\n}\n","/* @flow */\n\nimport {\n  ComponentNode,\n  TextNode,\n  type NodeRenderer,\n  ElementNode,\n} from \"../node\";\nimport { NODE_TYPE } from \"../constants\";\nimport { uniqueID } from \"../util\";\n\ntype DomNodeRenderer = NodeRenderer<ElementNode, HTMLElement>;\ntype DomTextRenderer = NodeRenderer<TextNode, Text>;\ntype DomComponentRenderer = NodeRenderer<\n  ComponentNode<*>,\n  HTMLElement | TextNode | $ReadOnlyArray<HTMLElement | TextNode> | void\n>;\ntype DomRenderer = DomComponentRenderer & DomNodeRenderer & DomTextRenderer;\n\nconst ELEMENT_TAG = {\n  HTML: \"html\",\n  IFRAME: \"iframe\",\n  SCRIPT: \"script\",\n  SVG: \"svg\",\n  DEFAULT: \"default\",\n};\n\nconst ELEMENT_PROP = {\n  ID: \"id\",\n  INNER_HTML: \"innerHTML\",\n  EL: \"el\",\n  XLINK_HREF: \"xlink:href\",\n};\n\nconst ELEMENT_DEFAULT_XML_NAMESPACE: {|\n  [$Values<typeof ELEMENT_TAG>]: string,\n|} = {\n  [ELEMENT_TAG.SVG]: \"http://www.w3.org/2000/svg\",\n};\n\nconst ATTRIBUTE_DEFAULT_XML_NAMESPACE: {|\n  [$Values<typeof ELEMENT_PROP>]: string,\n|} = {\n  [ELEMENT_PROP.XLINK_HREF]: \"http://www.w3.org/1999/xlink\",\n};\n\nfunction fixScripts(\n  el: HTMLElement | Element,\n  doc: Document = window.document\n) {\n  for (const script of el.querySelectorAll(\"script\")) {\n    const parentNode = script.parentNode;\n\n    if (!parentNode) {\n      continue;\n    }\n\n    const newScript = doc.createElement(\"script\");\n    newScript.text = script.textContent;\n    parentNode.replaceChild(newScript, script);\n  }\n}\n\nfunction createElement(\n  doc: Document,\n  node: ElementNode\n): HTMLElement | Element {\n  if (node.props[ELEMENT_PROP.EL]) {\n    return node.props[ELEMENT_PROP.EL];\n  } else {\n    return doc.createElement(node.name);\n  }\n}\n\nfunction createElementWithXMLNamespace(\n  doc: Document,\n  node: ElementNode,\n  xmlNamespace: string\n): HTMLElement | Element {\n  return doc.createElementNS(xmlNamespace, node.name);\n}\n\nfunction createTextElement(doc: Document, node: TextNode): Text {\n  return doc.createTextNode(node.text);\n}\n\nfunction addProps(el: HTMLElement | Element, node) {\n  const props = node.props;\n\n  for (const prop of Object.keys(props)) {\n    const val = props[prop];\n\n    if (\n      val === null ||\n      typeof val === \"undefined\" ||\n      prop === ELEMENT_PROP.EL ||\n      prop === ELEMENT_PROP.INNER_HTML\n    ) {\n      continue;\n    }\n\n    if (prop.match(/^on[A-Z][a-z]/) && typeof val === \"function\") {\n      el.addEventListener(prop.slice(2).toLowerCase(), val);\n    } else if (typeof val === \"string\" || typeof val === \"number\") {\n      const xmlNamespace = ATTRIBUTE_DEFAULT_XML_NAMESPACE[prop];\n      if (xmlNamespace) {\n        el.setAttributeNS(xmlNamespace, prop, val.toString());\n      } else {\n        el.setAttribute(prop, val.toString());\n      }\n    } else if (typeof val === \"boolean\") {\n      if (val === true) {\n        el.setAttribute(prop, \"\");\n      }\n    }\n  }\n\n  if (el.tagName.toLowerCase() === ELEMENT_TAG.IFRAME && !props.id) {\n    el.setAttribute(ELEMENT_PROP.ID, `jsx-iframe-${uniqueID()}`);\n  }\n}\nconst ADD_CHILDREN: {\n  [string]: (HTMLElement | Element, ElementNode, DomNodeRenderer) => void,\n} = {\n  [ELEMENT_TAG.IFRAME]: (el, node) => {\n    const firstChild = node.children[0];\n\n    if (\n      node.children.length !== 1 ||\n      !(firstChild && firstChild.type === NODE_TYPE.ELEMENT) ||\n      firstChild.name !== ELEMENT_TAG.HTML\n    ) {\n      throw new Error(\n        `Expected only single html element node as child of ${ELEMENT_TAG.IFRAME} element`\n      );\n    }\n\n    el.addEventListener(\"load\", () => {\n      // $FlowFixMe\n      const win = el.contentWindow;\n\n      if (!win) {\n        throw new Error(`Expected frame to have contentWindow`);\n      }\n\n      const doc = win.document;\n      const docElement = doc.documentElement;\n\n      while (docElement.children && docElement.children.length) {\n        docElement.removeChild(docElement.children[0]);\n      }\n\n      // eslint-disable-next-line no-use-before-define\n      const child: HTMLElement = firstChild.render(dom({ doc }));\n\n      while (child.children.length) {\n        docElement.appendChild(child.children[0]);\n      }\n    });\n  },\n\n  [ELEMENT_TAG.SCRIPT]: (el, node) => {\n    const firstChild = node.children[0];\n\n    if (\n      node.children.length !== 1 ||\n      !(firstChild && firstChild.type === NODE_TYPE.TEXT)\n    ) {\n      throw new Error(\n        `Expected only single text node as child of ${ELEMENT_TAG.SCRIPT} element`\n      );\n    }\n\n    // $FlowFixMe\n    el.text = firstChild.text;\n  },\n\n  [ELEMENT_TAG.DEFAULT]: (el, node, renderer) => {\n    for (const child of node.renderChildren(renderer)) {\n      el.appendChild(child);\n    }\n  },\n};\n\nfunction addChildren(\n  el: HTMLElement | Element,\n  node: ElementNode,\n  doc: Document,\n  renderer: DomNodeRenderer\n) {\n  if (node.props.hasOwnProperty(ELEMENT_PROP.INNER_HTML)) {\n    if (node.children.length) {\n      throw new Error(\n        `Expected no children to be passed when ${ELEMENT_PROP.INNER_HTML} prop is set`\n      );\n    }\n\n    const html = node.props[ELEMENT_PROP.INNER_HTML];\n\n    if (typeof html !== \"string\") {\n      throw new TypeError(`${ELEMENT_PROP.INNER_HTML} prop must be string`);\n    }\n\n    if (node.name === ELEMENT_TAG.SCRIPT) {\n      // $FlowFixMe\n      el.text = html;\n    } else {\n      el.innerHTML = html;\n      fixScripts(el, doc);\n    }\n  } else {\n    const addChildrenToElement =\n      ADD_CHILDREN[node.name] || ADD_CHILDREN[ELEMENT_TAG.DEFAULT];\n    addChildrenToElement(el, node, renderer);\n  }\n}\n\ntype DomOptions = {|\n  doc?: Document,\n|};\n\nconst getDefaultDomOptions = (): DomOptions => {\n  // $FlowFixMe\n  return {};\n};\n\nexport function dom(opts?: DomOptions = getDefaultDomOptions()): DomRenderer {\n  const { doc = document } = opts;\n\n  const xmlNamespaceDomRenderer = (\n    node: ElementNode,\n    xmlNamespace: string\n  ): HTMLElement => {\n    if (node.type === NODE_TYPE.COMPONENT) {\n      return node.renderComponent((childNode) =>\n        xmlNamespaceDomRenderer(childNode, xmlNamespace)\n      );\n    }\n\n    if (node.type === NODE_TYPE.TEXT) {\n      // $FlowFixMe\n      return createTextElement(doc, node);\n    }\n\n    if (node.type === NODE_TYPE.ELEMENT) {\n      const el = createElementWithXMLNamespace(doc, node, xmlNamespace);\n      addProps(el, node);\n      addChildren(el, node, doc, (childNode) =>\n        xmlNamespaceDomRenderer(childNode, xmlNamespace)\n      );\n      // $FlowFixMe\n      return el;\n    }\n\n    throw new TypeError(`Unhandleable node`);\n  };\n\n  const domRenderer: DomRenderer = (node) => {\n    if (node.type === NODE_TYPE.COMPONENT) {\n      return node.renderComponent(domRenderer);\n    }\n\n    if (node.type === NODE_TYPE.TEXT) {\n      // $FlowFixMe\n      return createTextElement(doc, node);\n    }\n\n    if (node.type === NODE_TYPE.ELEMENT) {\n      const xmlNamespace =\n        ELEMENT_DEFAULT_XML_NAMESPACE[node.name.toLowerCase()];\n\n      if (xmlNamespace) {\n        // $FlowFixMe\n        return xmlNamespaceDomRenderer(node, xmlNamespace);\n      }\n\n      const el = createElement(doc, node);\n      addProps(el, node);\n      addChildren(el, node, doc, domRenderer);\n      // $FlowFixMe\n      return el;\n    }\n\n    throw new TypeError(`Unhandleable node`);\n  };\n\n  return domRenderer;\n}\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","/* @flow */\n\nimport type { Node } from \"react\";\n\nimport {\n  ComponentNode,\n  TextNode,\n  ElementNode,\n  type NodeRenderer,\n  type NodePropsType,\n} from \"../node\";\nimport { NODE_TYPE } from \"../constants\";\n\ntype ReactType = {|\n  createElement: Function,\n|};\n\ntype ReactRenderer = NodeRenderer<\n  ElementNode | TextNode | ComponentNode<*>,\n  Node | string | null\n>;\n\nfunction mapReactProps(props: NodePropsType): NodePropsType {\n  const { innerHTML, class: className, ...remainingProps } = props;\n\n  const dangerouslySetInnerHTML = innerHTML ? { __html: innerHTML } : null;\n\n  // $FlowFixMe\n  return {\n    dangerouslySetInnerHTML,\n    className,\n    ...remainingProps,\n  };\n}\n\nexport function react({ React }: {| React: ReactType |} = {}): ReactRenderer {\n  if (!React) {\n    throw new Error(`Must pass React library to react renderer`);\n  }\n\n  const reactRenderer = (node) => {\n    if (node.type === NODE_TYPE.COMPONENT) {\n      return React.createElement(\n        () => node.renderComponent(reactRenderer) || null,\n        node.props,\n        ...node.renderChildren(reactRenderer)\n      );\n    }\n\n    if (node.type === NODE_TYPE.ELEMENT) {\n      return React.createElement(\n        node.name,\n        mapReactProps(node.props),\n        ...node.renderChildren(reactRenderer)\n      );\n    }\n\n    if (node.type === NODE_TYPE.TEXT) {\n      return node.text;\n    }\n\n    throw new TypeError(`Unhandleable node`);\n  };\n\n  return reactRenderer;\n}\n","/* @flow */\n/* eslint unicorn/prefer-spread: off */\n\nimport {\n  ComponentNode,\n  TextNode,\n  ElementNode,\n  type NodePropsType,\n  type NodeRenderer,\n} from \"../node\";\nimport { NODE_TYPE } from \"../constants\";\n\ntype HTMLRenderer = NodeRenderer<\n  ElementNode | TextNode | ComponentNode<*>,\n  string\n>;\n\nconst ELEMENT_PROP = {\n  INNER_HTML: \"innerHTML\",\n};\n\nconst SELF_CLOSING_TAGS = {\n  br: true,\n};\n\nfunction htmlEncode(text: string): string {\n  return text\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/'/g, \"&#39;\")\n    .replace(/\\//g, \"&#x2F;\");\n}\n\nfunction propsToHTML(props: NodePropsType): string {\n  const keys = Object.keys(props).filter((key) => {\n    const val = props[key];\n\n    if (key === ELEMENT_PROP.INNER_HTML) {\n      return false;\n    }\n\n    if (typeof val === \"string\" || typeof val === \"number\" || val === true) {\n      return true;\n    }\n\n    return false;\n  });\n\n  if (!keys.length) {\n    return \"\";\n  }\n\n  const pairs = keys.map((key) => {\n    const val = props[key];\n\n    if (val === true) {\n      return `${htmlEncode(key)}`;\n    }\n\n    if (typeof val !== \"string\" && typeof val !== \"number\") {\n      throw new TypeError(`Unexpected prop type: ${typeof val}`);\n    }\n\n    if (val === \"\") {\n      return htmlEncode(key);\n    }\n\n    return `${htmlEncode(key)}=\"${htmlEncode(val.toString())}\"`;\n  });\n\n  return ` ${pairs.join(\" \")}`;\n}\n\nexport function html(): HTMLRenderer {\n  const htmlRenderer = (node) => {\n    if (node.type === NODE_TYPE.COMPONENT) {\n      return [].concat(node.renderComponent(htmlRenderer)).join(\"\");\n    }\n\n    if (node.type === NODE_TYPE.ELEMENT) {\n      const renderedProps = propsToHTML(node.props);\n\n      if (SELF_CLOSING_TAGS[node.name]) {\n        return `<${node.name}${renderedProps} />`;\n      } else {\n        const renderedChildren =\n          typeof node.props[ELEMENT_PROP.INNER_HTML] === \"string\"\n            ? node.props[ELEMENT_PROP.INNER_HTML]\n            : node.renderChildren(htmlRenderer).join(\"\");\n\n        return `<${node.name}${renderedProps}>${renderedChildren}</${node.name}>`;\n      }\n    }\n\n    if (node.type === NODE_TYPE.TEXT) {\n      return htmlEncode(node.text);\n    }\n\n    throw new TypeError(`Unhandleable node: ${node.type}`);\n  };\n\n  return htmlRenderer;\n}\n","/* @flow */\n\nimport {\n  ComponentNode,\n  TextNode,\n  ElementNode,\n  type NodeRenderer,\n  type NodePropsType,\n} from \"../node\";\nimport { NODE_TYPE } from \"../constants\";\n\ntype PreactType = {|\n  h: Function,\n|};\n\ntype PreactNode = {||};\n\ntype PreactRenderer = NodeRenderer<\n  ElementNode | TextNode | ComponentNode<*>,\n  PreactNode | string | null\n>;\n\nfunction mapPreactProps(props: NodePropsType): NodePropsType {\n  const { innerHTML, ...remainingProps } = props;\n\n  const dangerouslySetInnerHTML = innerHTML ? { __html: innerHTML } : null;\n\n  // $FlowFixMe\n  return {\n    dangerouslySetInnerHTML,\n    ...remainingProps,\n  };\n}\n\nexport function preact({\n  Preact,\n}: {| Preact: PreactType |} = {}): PreactRenderer {\n  if (!Preact) {\n    throw new Error(`Must pass Preact library to react renderer`);\n  }\n\n  const reactRenderer = (node) => {\n    if (node.type === NODE_TYPE.COMPONENT) {\n      return Preact.h(\n        () => node.renderComponent(reactRenderer) || null,\n        node.props,\n        ...node.renderChildren(reactRenderer)\n      );\n    }\n\n    if (node.type === NODE_TYPE.ELEMENT) {\n      return Preact.h(\n        node.name,\n        mapPreactProps(node.props),\n        ...node.renderChildren(reactRenderer)\n      );\n    }\n\n    if (node.type === NODE_TYPE.TEXT) {\n      return node.text;\n    }\n\n    throw new TypeError(`Unhandleable node`);\n  };\n\n  return reactRenderer;\n}\n","/* @flow */\n\nimport {\n  node,\n  ComponentNode,\n  TextNode,\n  ElementNode,\n  type NodeRenderer,\n} from \"../node\";\n\nimport { text } from \"./text\";\n\ntype RegexRenderer = NodeRenderer<\n  ElementNode | TextNode | ComponentNode<*>,\n  RegExp\n>;\n\nexport function regex(): RegexRenderer {\n  const regexRenderer = text();\n\n  // eslint-disable-next-line security/detect-non-literal-regexp\n  return (nodeInstance) => new RegExp(regexRenderer(nodeInstance));\n}\n\n// $FlowFixMe\nregex.node = (el, props, ...children) => {\n  // $FlowFixMe\n  const nodeInstance = node(el, props, ...children);\n\n  if (el.renderer) {\n    return nodeInstance.render(el.renderer());\n  }\n\n  return nodeInstance;\n};\n","/* @flow */\n/** @jsx node */\n\nimport {\n  Fragment,\n  node,\n  type ChildType,\n  type NullableChildrenType,\n} from \"../node\";\n\ntype StyleProps = {|\n  css: string | {| _getCss: () => string |},\n  nonce?: ?string,\n  children?: ?NullableChildrenType,\n|};\n\nexport function Style({ css, nonce, children }: StyleProps): ChildType {\n  return (\n    <Fragment>\n      <style\n        innerHTML={typeof css === \"string\" ? css : css._getCss()}\n        nonce={nonce}\n      />\n      {children}\n    </Fragment>\n  );\n}\n","/* @flow */\n/** @jsx node */\n\nimport { type ChildType, type ChildrenType, TextNode } from \"../node\";\nimport { isDefined } from \"../util\";\nimport { NODE_TYPE } from \"../constants\";\nimport { regex } from \"../renderers\";\n\nconst escapeRegex = (text: string): string => {\n  return text.replace(/[-[\\]{}()*+?.,\\\\^$|#]/g, \"\\\\$&\");\n};\n\nconst validateChildren = (\n  name: string,\n  children: ?ChildrenType\n): ChildrenType => {\n  if (!children) {\n    throw new Error(`Must pass children to ${name}`);\n  }\n\n  return children;\n};\n\nconst validateNoChildren = (name: string, children: ?ChildrenType) => {\n  if (children && children.length) {\n    throw new Error(`Must not pass children to ${name}`);\n  }\n};\n\nconst validateAndEscapeChildren = (\n  name: string,\n  children: ?ChildrenType\n): ChildrenType => {\n  children = validateChildren(name, children);\n\n  return children.map((child) => {\n    if (child.type === NODE_TYPE.TEXT) {\n      return new TextNode(escapeRegex(child.text));\n    }\n\n    return child;\n  });\n};\n\nexport type RegexOptions = {|\n  exact?: boolean,\n|};\n\nexport function Regex(\n  { exact = true }: RegexOptions,\n  children?: ChildrenType\n): ChildType {\n  children = validateAndEscapeChildren(\"RegexGroup\", children);\n\n  if (!exact) {\n    return children;\n  }\n\n  return [\"^\", ...children, \"$\"];\n}\n\nRegex.renderer = regex;\n\ntype RegexTextOptions = {||};\n\nexport function RegexText(\n  props: RegexTextOptions,\n  children?: ChildrenType\n): ChildType {\n  return validateAndEscapeChildren(\"RegexText\", children);\n}\n\ntype RegexWordOptions = {||};\n\nexport function RegexWord(\n  props: RegexWordOptions,\n  children?: ChildrenType\n): ChildType {\n  validateNoChildren(\"RegexWord\", children);\n\n  return \"\\\\w+\";\n}\n\ntype RegexCharactersOptions = {||};\n\nexport function RegexCharacters(\n  props: RegexCharactersOptions,\n  children?: ChildrenType\n): ChildType {\n  return [\"[\", ...validateAndEscapeChildren(\"RegexText\", children), \"]\"];\n}\n\ntype RegexGroupOptions = {|\n  optional?: boolean,\n  repeat?: boolean | number,\n  repeatMin?: number,\n  repeatMax?: number,\n  capture?: boolean,\n  union?: boolean,\n  name?: string,\n|};\n\nexport function RegexGroup(\n  {\n    repeat,\n    repeatMin,\n    repeatMax,\n    name,\n    optional = false,\n    capture = true,\n    union = false,\n  }: RegexGroupOptions,\n  children?: ChildrenType\n): ChildType {\n  children = validateAndEscapeChildren(\"RegexGroup\", children);\n\n  if (isDefined(repeat) && (isDefined(repeatMin) || isDefined(repeatMax))) {\n    throw new Error(`repeat can not be used with repeatMin or repeatMax`);\n  }\n\n  if (name && !capture) {\n    throw new Error(`Named groups must be captured`);\n  }\n\n  if (union) {\n    const result = [];\n\n    for (const child of children) {\n      result.push(child);\n      result.push(new TextNode(\"|\"));\n    }\n\n    result.pop();\n    children = result;\n  }\n\n  const result = [];\n\n  result.push(capture ? \"(\" : \"(?:\");\n\n  if (name) {\n    result.push(`?<${escapeRegex(name)}>`);\n  }\n\n  result.push(...children);\n  result.push(\")\");\n\n  if (isDefined(repeat)) {\n    if (typeof repeat === \"number\") {\n      result.push(`{${repeat}}`);\n    } else if (repeat === true) {\n      result.push(`+`);\n    }\n  }\n\n  if (isDefined(repeatMin) || isDefined(repeatMax)) {\n    result.push(`{${repeatMin || \"\"},${repeatMax || \"\"}}`);\n  }\n\n  if (optional) {\n    result.push(\"?\");\n  }\n\n  return result;\n}\n\ntype RegexUnionOptions = {||};\n\nexport function RegexUnion(\n  props: RegexUnionOptions,\n  children?: ChildrenType\n): ChildType {\n  children = validateAndEscapeChildren(\"RegexGroup\", children);\n\n  const result = [];\n\n  for (const child of children) {\n    result.push(child);\n    result.push(\"|\");\n  }\n\n  result.pop();\n\n  return result;\n}\n"],"sourceRoot":""}